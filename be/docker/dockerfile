
FROM node:14

ENV DEBIAN_FRONTEND noninteractive

EXPOSE 8888

WORKDIR /usr/src/fuyuko

COPY tsconfig.json ./
COPY ./*.json ./
COPY ./*.sh ./
COPY ./dist ./dist

RUN apt -y update
RUN apt -y install apt-utils
RUN apt -y install vim
RUN apt -y install mariadb-client-10.1
RUN npm install
RUN ls -lart
RUN chmod u+x ./*.sh
RUN set -o vi

EXPOSE 8888

ENTRYPOINT ["/bin/bash",  "-c"]

CMD ["./docker-start-cmd.sh"]

