<div class="partner-data-list-component">
    <mat-sidenav-container [hasBackdrop]="false">
        <mat-sidenav #sideNav position="end" mode="side" [disableClose]="true" [fixedInViewport]="true" fixedTopGap="65">
            <mat-icon (click)="onCloseSideNav($event)" [attr.test-icon-close-side-menu]="''" class="close-icon">close</mat-icon>
            <div class="side-nav" [attr.test-side-nav]="''">
                <app-partner-item-info-table *ngIf="selectedPricedItem"
                                             [attr.test-partner-item-info-table]="''"
                                             [attr.test-table-partner-item-info]="''"
                                             [tablePricedItem]="selectedPricedItem">
                </app-partner-item-info-table>
                <mat-divider></mat-divider>
                <app-partner-attribute-table *ngIf="selectedPricedItem"
                                             [attr.test-partner-attribute-table]="''"
                                             [item]="selectedPricedItem"
                                             [attributes]="attributes">
                </app-partner-attribute-table>
            </div>
        </mat-sidenav>
        <mat-sidenav-content>
            <mat-accordion>
                <mat-expansion-panel *ngFor="let item of pricedItems; let i = index;">
                    <mat-expansion-panel-header [attr.test-panel-header]="item.name">
                        <mat-panel-title>
                            <section> <a (click)="onItemClicked($event, item)" [attr.test-link-open-attribute-menu]="item.name">{{item.name}}</a> </section>
                        </mat-panel-title>
                        <mat-panel-description>{{item.description}}</mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="content" [attr.test-panel-content]="item.name">
                        <div>
                            <app-carousel [itemId]="item.id" [images]="getCarouselImages(item)" [allowEdit]="false"></app-carousel>
                        </div>
                        <div [attr.test-item-name]="item.name"> <a (click)="onItemClicked($event, item)">{{item.name}}</a> </div>
                        <div [attr.test-item-description]="item.name"> {{item.description}} </div>
                        <div> Price: <span [attr.test-item-price]="item.name">{{item.price | currency:item.country}}</span></div>
                        <div *ngFor="let attribute of attributes; let i = index;" [attr.test-item-attribute]="item.name">
                            {{getItemValue(item, attribute.id) | itemAttributeValueAsString:attribute}}
                        </div>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </mat-sidenav-content>
    </mat-sidenav-container>
</div>
